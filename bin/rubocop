#!/usr/bin/env ruby
# frozen_string_literal: true

require 'bundler/setup'

# RuboCop runner for DhanScalper
# Usage:
#   bin/rubocop                    # Check all files
#   bin/rubocop --auto-correct     # Auto-correct safe offenses
#   bin/rubocop lib/               # Check specific directory
#   bin/rubocop --format simple    # Simple output format

require 'rubocop'

# Parse command line arguments
args = ARGV.dup

# Add default options if none provided
args = ['.'] if args.empty?

# Add format option if not specified
args += ['--format', 'simple'] unless args.include?('--format') || args.include?('-f')

# Add color option if not specified
args += ['--color'] unless args.include?('--no-color')

# Add config file if not specified
args += ['--config', '.rubocop.yml'] unless args.include?('--config') || args.include?('-c')

# Run RuboCop
exit RuboCop::CLI.new.run(args)
